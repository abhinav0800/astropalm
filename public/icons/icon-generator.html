<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Palm Reader - Icon Generator</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #1e1b4b 0%, #4c1d95 100%);
      min-height: 100vh;
      padding: 40px 20px;
      color: white;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
    }
    h1 {
      text-align: center;
      margin-bottom: 10px;
      font-size: 28px;
    }
    .subtitle {
      text-align: center;
      opacity: 0.7;
      margin-bottom: 40px;
    }
    .icon-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }
    .icon-card {
      background: rgba(255,255,255,0.1);
      border-radius: 16px;
      padding: 20px;
      text-align: center;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
    }
    .icon-preview {
      background: #0f0a1e;
      border-radius: 12px;
      padding: 10px;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .icon-preview canvas {
      max-width: 100%;
      border-radius: 8px;
    }
    .icon-size {
      font-size: 14px;
      opacity: 0.8;
      margin-bottom: 10px;
    }
    button {
      background: linear-gradient(135deg, #4d9fff, #a855f7);
      border: none;
      padding: 8px 16px;
      border-radius: 8px;
      color: white;
      cursor: pointer;
      font-size: 12px;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 20px rgba(77, 159, 255, 0.4);
    }
    .generate-all {
      display: block;
      width: 100%;
      max-width: 300px;
      margin: 0 auto 40px;
      padding: 16px 32px;
      font-size: 16px;
      font-weight: 600;
    }
    .instructions {
      background: rgba(255,255,255,0.1);
      border-radius: 16px;
      padding: 24px;
      margin-top: 40px;
    }
    .instructions h2 {
      margin-bottom: 16px;
      font-size: 20px;
    }
    .instructions ol {
      padding-left: 20px;
      line-height: 1.8;
    }
    .instructions code {
      background: rgba(0,0,0,0.3);
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 13px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üîÆ AI Palm Reader</h1>
    <p class="subtitle">PWA Icon Generator</p>
    
    <button class="generate-all" onclick="generateAllIcons()">
      ‚¨áÔ∏è Generate & Download All Icons
    </button>
    
    <div class="icon-grid" id="iconGrid"></div>
    
    <div class="instructions">
      <h2>üìã Instructions</h2>
      <ol>
        <li>Click <strong>"Generate & Download All Icons"</strong> to download all icon sizes</li>
        <li>Place downloaded icons in <code>public/icons/</code> folder</li>
        <li>Place <code>apple-touch-icon.png</code> in <code>public/</code> folder</li>
        <li>Place <code>favicon.ico</code> in <code>public/</code> folder</li>
        <li>For <code>maskable-icon</code>, the icon has extra padding for safe area</li>
      </ol>
    </div>
  </div>

  <script>
    // Icon sizes required for PWA
    const iconSizes = [72, 96, 128, 144, 152, 192, 384, 512];
    const specialIcons = [
      { name: 'apple-touch-icon', size: 180 },
      { name: 'favicon', size: 32 },
      { name: 'favicon-16', size: 16 },
      { name: 'maskable-icon-512x512', size: 512, maskable: true }
    ];

    // SVG Icon Template
    function createIconSVG(size, maskable = false) {
      const padding = maskable ? size * 0.1 : 0;
      const innerSize = size - (padding * 2);
      const scale = innerSize / 512;
      
      return `
        <svg width="${size}" height="${size}" viewBox="0 0 ${size} ${size}" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stop-color="#1e1b4b"/>
              <stop offset="50%" stop-color="#312e81"/>
              <stop offset="100%" stop-color="#4c1d95"/>
            </linearGradient>
            <linearGradient id="accent" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stop-color="#4d9fff"/>
              <stop offset="50%" stop-color="#a855f7"/>
              <stop offset="100%" stop-color="#00f5ff"/>
            </linearGradient>
            <filter id="glow">
              <feGaussianBlur stdDeviation="${2 * scale}" result="blur"/>
              <feMerge>
                <feMergeNode in="blur"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
          </defs>
          
          <!-- Background -->
          <rect width="${size}" height="${size}" fill="url(#bg)"/>
          
          <!-- Content Group with padding for maskable -->
          <g transform="translate(${padding}, ${padding}) scale(${scale})">
            <!-- Outer Ring -->
            <circle cx="256" cy="256" r="230" stroke="url(#accent)" stroke-width="2" fill="none" opacity="0.3"/>
            
            <!-- Stars -->
            <circle cx="100" cy="120" r="3" fill="#fff" opacity="0.5"/>
            <circle cx="400" cy="100" r="2" fill="#fff" opacity="0.6"/>
            <circle cx="420" cy="380" r="3" fill="#fff" opacity="0.4"/>
            <circle cx="80" cy="350" r="2" fill="#fff" opacity="0.5"/>
            
            <!-- Palm Hand -->
            <g filter="url(#glow)">
              <path d="M256 420 
                       C200 420, 160 380, 150 320 
                       C140 260, 150 200, 170 160
                       C175 150, 185 145, 195 150
                       C205 155, 210 170, 208 185
                       C205 200, 200 220, 205 235
                       C210 215, 220 180, 230 160
                       C235 150, 245 145, 255 150
                       C265 155, 270 170, 268 185
                       C265 205, 258 230, 260 250
                       C265 225, 280 185, 295 165
                       C302 155, 315 152, 325 160
                       C335 168, 338 185, 333 205
                       C328 225, 315 255, 310 280
                       C320 260, 340 230, 355 215
                       C365 205, 380 208, 388 220
                       C396 232, 395 250, 385 275
                       C375 300, 355 340, 340 370
                       C325 400, 290 420, 256 420Z" 
                    fill="url(#accent)" opacity="0.9"/>
              
              <!-- Palm Lines -->
              <path d="M175 280 Q220 260, 270 265 Q320 270, 360 290" 
                    stroke="#fff" stroke-width="3" fill="none" opacity="0.5" stroke-linecap="round"/>
              <path d="M170 310 Q220 295, 280 300 Q330 305, 365 320" 
                    stroke="#fff" stroke-width="3" fill="none" opacity="0.4" stroke-linecap="round"/>
              <path d="M200 250 Q210 300, 220 350 Q230 390, 250 410" 
                    stroke="#fff" stroke-width="2" fill="none" opacity="0.4" stroke-linecap="round"/>
            </g>
            
            <!-- Center Eye -->
            <g filter="url(#glow)">
              <ellipse cx="256" cy="320" rx="25" ry="20" fill="#0f0a1e" opacity="0.9"/>
              <ellipse cx="256" cy="320" rx="18" ry="14" stroke="#00f5ff" stroke-width="2" fill="none"/>
              <circle cx="256" cy="320" r="8" fill="#00f5ff"/>
              <circle cx="256" cy="320" r="4" fill="#fff"/>
            </g>
            
            <!-- Sparkles -->
            <path d="M140 200 L145 210 L155 210 L147 217 L150 227 L140 220 L130 227 L133 217 L125 210 L135 210 Z" fill="#00f5ff" opacity="0.8"/>
            <path d="M380 280 L383 287 L390 287 L385 292 L387 299 L380 294 L373 299 L375 292 L370 287 L377 287 Z" fill="#a855f7" opacity="0.8"/>
          </g>
        </svg>
      `;
    }

    // Render icons to canvas
    function renderIcon(size, maskable = false) {
      return new Promise((resolve) => {
        const canvas = document.createElement('canvas');
        canvas.width = size;
        canvas.height = size;
        const ctx = canvas.getContext('2d');
        
        const img = new Image();
        const svgBlob = new Blob([createIconSVG(size, maskable)], { type: 'image/svg+xml' });
        const url = URL.createObjectURL(svgBlob);
        
        img.onload = () => {
          ctx.drawImage(img, 0, 0);
          URL.revokeObjectURL(url);
          resolve(canvas);
        };
        
        img.src = url;
      });
    }

    // Download canvas as PNG
    function downloadCanvas(canvas, filename) {
      const link = document.createElement('a');
      link.download = filename;
      link.href = canvas.toDataURL('image/png');
      link.click();
    }

    // Initialize icon grid
    async function initIconGrid() {
      const grid = document.getElementById('iconGrid');
      
      for (const size of iconSizes) {
        const card = document.createElement('div');
        card.className = 'icon-card';
        
        const preview = document.createElement('div');
        preview.className = 'icon-preview';
        
        const canvas = await renderIcon(size);
        const displayCanvas = document.createElement('canvas');
        displayCanvas.width = Math.min(size, 100);
        displayCanvas.height = Math.min(size, 100);
        const ctx = displayCanvas.getContext('2d');
        ctx.drawImage(canvas, 0, 0, displayCanvas.width, displayCanvas.height);
        
        preview.appendChild(displayCanvas);
        
        const sizeLabel = document.createElement('div');
        sizeLabel.className = 'icon-size';
        sizeLabel.textContent = `${size}x${size}`;
        
        const btn = document.createElement('button');
        btn.textContent = 'Download';
        btn.onclick = () => downloadCanvas(canvas, `icon-${size}x${size}.png`);
        
        card.appendChild(preview);
        card.appendChild(sizeLabel);
        card.appendChild(btn);
        grid.appendChild(card);
      }
    }

    // Generate all icons
    async function generateAllIcons() {
      // Regular icons
      for (const size of iconSizes) {
        const canvas = await renderIcon(size);
        downloadCanvas(canvas, `icon-${size}x${size}.png`);
        await new Promise(r => setTimeout(r, 300)); // Delay between downloads
      }
      
      // Special icons
      for (const icon of specialIcons) {
        const canvas = await renderIcon(icon.size, icon.maskable || false);
        downloadCanvas(canvas, `${icon.name}.png`);
        await new Promise(r => setTimeout(r, 300));
      }
      
      alert('All icons generated! Check your downloads folder.');
    }

    // Initialize on load
    window.onload = initIconGrid;
  </script>
</body>
  </html>
